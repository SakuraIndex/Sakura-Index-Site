---
layout: null
---

<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>ğŸŒ¸ æ¡œIndex - å…¬å¼ã‚µã‚¤ãƒˆ</title>
  <style>
    body{margin:0;background:#0b1220;color:#e2e8f0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji"}
    .wrap{max-width:1180px;margin:32px auto;padding:0 16px}
    .site-head{display:flex;justify-content:space-between;align-items:center;gap:12px;margin-bottom:14px}
    .site-title{font-size:22px;font-weight:800}
    .btn{display:inline-block;padding:10px 14px;border-radius:10px;border:1px solid #334155;background:#0f172a;color:#e2e8f0;text-decoration:none}
    .index-grid{display:grid;grid-template-columns:1fr;gap:18px}
    @media(min-width:980px){.index-grid{grid-template-columns:1fr 1fr}}
  </style>
</head>
<body>
<header class="site-head">
  <div class="site-title">ğŸŒ¸ æ¡œIndex - å…¬å¼ã‚µã‚¤ãƒˆ</div>
  <div class="top-actions" style="display:flex;gap:10px">
    <a class="btn" href="https://x.com/your_account" target="_blank" rel="noopener">å…¬å¼Xï¼ˆTwitterï¼‰</a>
    <a class="btn" href="https://note.com/your_account" target="_blank" rel="noopener">å…¬å¼note</a>
  </div>
</header>

<main class="wrap">
  <div class="index-grid">
    {% include components/index-card.html
       id="ASTRA4"
       title="Astra4" flag="ğŸ‡¯ğŸ‡µ" badge="å®‡å®™ãƒ™ãƒ³ãƒãƒ£ãƒ¼"
       desc="å®‡å®™é–¢é€£éŠ˜æŸ„ã®ç­‰ã‚¦ã‚§ã‚¤ãƒˆæŒ‡æ•°ã€‚æ—¥ä¸­ã¯é¨°è½ç‡ã€é•·æœŸã¯ãƒ¬ãƒ™ãƒ«æ¨ç§»ã‚’è¡¨ç¤ºã€‚" %}

    {% include components/index-card.html
       id="R-BANK9"
       title="R-BANK9" flag="ğŸ‡¯ğŸ‡µ" badge="åœ°æ–¹éŠ€è¡Œ"
       desc="åœ°æ–¹éŠ€è¡Œ9éŠ˜æŸ„ã®ç­‰ã‚¦ã‚§ã‚¤ãƒˆæŒ‡æ•°ã€‚æ—¥ä¸­ã¯é¨°è½ç‡ã€é•·æœŸã¯ãƒ¬ãƒ™ãƒ«æ¨ç§»ã‚’è¡¨ç¤ºã€‚" %}

    {% include components/index-card.html
       id="AIN-10"
       title="AIN-10" flag="ğŸ‡ºğŸ‡¸" badge="AIé–¢é€£10"
       desc="ç±³AIé–¢é€£10éŠ˜æŸ„ã®ç­‰ã‚¦ã‚§ã‚¤ãƒˆæŒ‡æ•°ã€‚çŸ­æœŸãƒ¢ãƒ¡ãƒ³ã‚¿ãƒ è¦³æ¸¬ã«ä¾¿åˆ©ã€‚" %}

    {% include components/index-card.html
       id="S-COIN+"
       title="S-COIN+" flag="ğŸ‡¯ğŸ‡µ" badge="ä»®æƒ³è³‡ç”£é–¢é€£"
       desc="æš—å·è³‡ç”£é–¢é€£ã®ç­‰ã‚¦ã‚§ã‚¤ãƒˆæŒ‡æ•°ã€‚æ—¥ä¸­ã¯é¨°è½ç‡ã€é•·æœŸã¯ãƒ¬ãƒ™ãƒ«æ¨ç§»ã‚’è¡¨ç¤ºã€‚" %}
  </div>

  <p style="color:#94a3b8;text-align:center;margin:26px 0 8px;">
    ãƒ‡ãƒ¼ã‚¿ï¼šå„æŒ‡æ•°ã¯ç­‰åŠ é‡æŒ‡æ•°ï¼ˆä»•æ§˜ã¯å„ãƒªãƒã‚¸ãƒˆãƒªå‚ç…§ï¼‰ï¼ ç”»åƒã¯å„æŒ‡æ•°ãƒªãƒã®è‡ªå‹•ç”Ÿæˆã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆã¨åŒæœŸã—ã¦ã„ã¾ã™ã€‚<br>
    â€»æœ¬ã‚µã‚¤ãƒˆã¯æŠ•è³‡åŠ©è¨€ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚æŠ•è³‡åˆ¤æ–­ã¯ã”è‡ªèº«ã®è²¬ä»»ï¼ˆè‡ªå·±è²¬ä»»ï¼‰ã§ãŠé¡˜ã„ã„ãŸã—ã¾ã™ã€‚<br>
    Â© {{ 'now' | date: '%Y' }} æ¡œIndex
  </p>
</main>

<script>
/* ========= å¼·åŒ–ãƒã‚¤ãƒ³ãƒˆ =========
 * 1) åŒä¸€ã‚ªãƒªã‚¸ãƒ³ï¼ˆã“ã®ã‚µã‚¤ãƒˆå†…ï¼‰ã® /charts /docs/charts ã‚’æ¢ç´¢
 * 2) ã•ã‚‰ã«ã€æŒ‡æ•°ã”ã¨ã«åˆ¥ãƒªãƒ/åˆ¥Pagesã®ã€Œå¤–éƒ¨ã‚ªãƒªã‚¸ãƒ³ã€ã‚’è¨­å®šã§ãã‚‹ã‚ˆã†ã«
 * 3) IDã®è¡¨è¨˜ã‚†ã‚Œï¼ˆS-COIN+ ãªã©ï¼‰ã«å¯¾ã—ã¦ã€ãƒ•ã‚©ãƒ«ãƒ€åã®å€™è£œã‚’è‡ªå‹•ç”Ÿæˆ
 * 4) Console ã«è©³ç´°ãƒ­ã‚°ï¼ˆOK/404ï¼‰ã‚’å‡ºåŠ›
 */

/*** â–¼â–¼ ã“ã“ã« â€œåˆ¥ãƒªãƒ/åˆ¥ãƒ‰ãƒ¡ã‚¤ãƒ³ï¼ˆå¤–éƒ¨ã‚ªãƒªã‚¸ãƒ³ï¼‰â€ ã‚’å¿…è¦ã«å¿œã˜ã¦è¨­å®šã—ã¦ãã ã•ã„ â–¼â–¼
 *  ä¾‹:
 *   'ASTRA4' : 'https://sakuraiindex.github.io/ASTRA4',
 *   'R-BANK9': 'https://sakuraiindex.github.io/R-BANK9',
 *   'AIN-10' : 'https://sakuraiindex.github.io/AIN-10',
 *   'S-COIN+': 'https://sakuraiindex.github.io/S-COIN-PLUS'
 * ç©ºã®ã¾ã¾ã§ã‚‚OKï¼ˆåŒä¸€ã‚ªãƒªã‚¸ãƒ³ã®ã¿æ¢ç´¢ï¼‰
 */
const EXTERNAL_ORIGINS = {
  // 'ASTRA4' : 'https://<your-org>.github.io/<Astra4-repo>',
  // 'R-BANK9': 'https://<your-org>.github.io/<R-BANK9-repo>',
  // 'AIN-10' : 'https://<your-org>.github.io/<AIN-10-repo>',
  // 'S-COIN+': 'https://<your-org>.github.io/<S-COIN-PLUS-repo>',
};
/*** â–²â–² ã“ã“ã¾ã§ â–²â–² */

(function(){
  const base = "{{ site.baseurl | default: '' }}";
  const withBase = p => (base ? base + (p.startsWith('/')? p : '/'+p) : (p.startsWith('/')? p : '/'+p));
  const uniq = arr => [...new Set(arr)];

  // ID ã‹ã‚‰ãƒ•ã‚©ãƒ«ãƒ€å€™è£œï¼ˆIDã®è¡¨è¨˜ã‚†ã‚Œï¼‰ã‚’ä½œã‚‹
  function folderCandidates(id){
    const raw = id;
    const enc = encodeURIComponent(id);     // ä¾‹: 'S-COIN+' -> 'S-COIN%2B'
    const minus = id.replace(/\+/g,'-');    // ä¾‹: 'S-COIN-'
    const plusW = id.replace(/\+/g,'PLUS'); // ä¾‹: 'S-COINPLUS'
    const under = id.replace(/\+/g,'_');    // ä¾‹: 'S-COIN_'
    return uniq([raw, enc, minus, plusW, under]);
  }

  // ç”»åƒ/JSON ãƒ•ã‚¡ã‚¤ãƒ«å
  const FILES_IMG = ['intraday_am.png','intraday.png'];
  const FILES_JSON = ['stats.json'];

  function buildCandidatesFor(id, files, origins){
    const folders = folderCandidates(id);
    const list = [];

    // 1) åŒä¸€ã‚ªãƒªã‚¸ãƒ³ï¼ˆã“ã®ã‚µã‚¤ãƒˆå†…ãƒ«ãƒ¼ãƒˆ & baseurlï¼‰
    for(const f of files){
      for(const fd of folders){
        list.push(`charts/${fd}/${f}`, `docs/charts/${fd}/${f}`);
        list.push(withBase(`charts/${fd}/${f}`), withBase(`docs/charts/${fd}/${f}`));
      }
    }

    // 2) å¤–éƒ¨ã‚ªãƒªã‚¸ãƒ³ï¼ˆå¿…è¦ã«å¿œã˜ã¦è¨­å®šï¼‰
    const ext = origins[id];
    if(ext){
      for(const f of files){
        for(const fd of folders){
          list.push(`${ext.replace(/\/$/,'')}/charts/${fd}/${f}`);
          list.push(`${ext.replace(/\/$/,'')}/docs/charts/${fd}/${f}`);
        }
      }
    }
    return uniq(list);
  }

  function tryLoadImage(card, id){
    const img = card.querySelector('.chart-img');
    const fb  = card.querySelector('.img-fallback');
    const paths = buildCandidatesFor(id, FILES_IMG, EXTERNAL_ORIGINS);
    let i = 0;
    function next(){
      if(i >= paths.length){ img.style.display='none'; fb.style.display='block'; return; }
      const url = paths[i++];
      const probe = new Image();
      probe.onload = ()=>{ img.src = url; img.style.display='block'; fb.style.display='none'; console.log(`[chart OK] ${id} -> ${url}`); };
      probe.onerror= ()=>{ console.log(`[chart 404] ${id} Ã— ${url}`); next(); };
      // ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒã‚¹ã‚¿ãƒ¼
      probe.src = url + (url.includes('?') ? `&v=${Date.now()}` : `?v=${Date.now()}`);
    }
    console.log(`[chart try] ${id}`, paths);
    next();
  }

  function tryLoadStats(card, id){
    const pct = card.querySelector('.idx-pct');
    const paths = buildCandidatesFor(id, FILES_JSON, EXTERNAL_ORIGINS);
    const keys  = ['pct_intraday','pct','intraday_pct','am_pct','delta','delta_level','change'];

    function asPct(v){
      if(v===null || v===undefined || v==='') return null;
      let x = typeof v==='string' ? parseFloat(v) : v;
      if(!isFinite(x)) return null;
      if(Math.abs(x) > 1.0) x = x/100.0; // 123 -> 1.23%
      const p = x*100.0;
      const text = (p>0?'+':'') + p.toFixed(2) + '%';
      const cls  = (p>0?'up':(p<0?'down':'na'));
      return { text, cls };
    }

    let i = 0;
    function next(){
      if(i >= paths.length){ pct.textContent='N/A'; pct.className='idx-pct na'; pct.style.color='#94a3b8'; return; }
      const url = paths[i++];
      fetch(url, {cache:'no-cache'})
        .then(r=>{ if(!r.ok) throw 0; return r.json(); })
        .then(j=>{
          console.log(`[stats OK] ${id} -> ${url}`, j);
          let v=null; for(const k of keys){ if(j && j[k]!==undefined){ v=j[k]; break; } }
          const res = asPct(v);
          if(!res) throw 0;
          pct.textContent = res.text;
          pct.className = 'idx-pct '+res.cls;
          pct.style.color = (res.cls==='up') ? '#22c55e' : (res.cls==='down' ? '#ef4444' : '#94a3b8');
        })
        .catch(()=>{ console.log(`[stats 404] ${id} Ã— ${url}`); next(); });
    }
    console.log(`[stats try] ${id}`, paths);
    next();
  }

  document.addEventListener('DOMContentLoaded', ()=>{
    document.querySelectorAll('.idx-card').forEach(card=>{
      const id = card.dataset.id;
      tryLoadImage(card, id);
      tryLoadStats(card, id);
    });
  });
})();
</script>
</body>
</html>
