---
title: 桜Index - 公式サイト
description: docs/charts/* のスナップショットを用いた簡易ダッシュボード
layout: null
---

<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>{{ page.title }}</title>
  <meta name="description" content="{{ page.description }}" />
  <style>
    :root { --bg:#101216; --panel:#171a20; --text:#e6e9ef; --muted:#9aa3ad; --line:#232833;
            --pos:#18b36a; --neg:#ef4e4e; --badge:#2b3340; --chip:#222834; }
    html,body { background:var(--bg); color:var(--text); margin:0; font:14px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial; }
    .wrap { max-width:1200px; margin:0 auto; padding:24px 16px 64px; }
    header { display:flex; gap:12px; align-items:center; justify-content:space-between; margin-bottom:12px; }
    .brand { font-size:22px; font-weight:700; letter-spacing:.5px; }
    .meta { color:var(--muted); font-size:12px; }
    .links a { color:var(--text); text-decoration:none; background:var(--chip); border:1px solid var(--line);
               padding:6px 10px; border-radius:10px; margin-left:8px; }
    .grid { display:grid; grid-template-columns:1fr; gap:16px; }
    @media (min-width:980px){ .grid{ grid-template-columns:1fr 1fr; } }

    .card { background:var(--panel); border:1px solid var(--line); border-radius:14px; padding:14px; }
    .card-head { display:flex; align-items:center; justify-content:space-between; margin-bottom:8px; }
    .title { font-weight:700; font-size:16px; }
    .badge { font-size:12px; color:var(--muted); background:var(--badge); border:1px solid var(--line);
             padding:2px 8px; border-radius:999px; margin-left:8px; }
    .delta { font-weight:700; }
    .delta.pos { color:var(--pos); }
    .delta.neg { color:var(--neg); }
    .desc { color:var(--muted); margin: 4px 0 10px; }
    .chart { background:#0c0e12; border:1px solid var(--line); border-radius:10px; padding:8px; min-height:220px;
             display:flex; align-items:center; justify-content:center; }
    .chart-img { width:100%; height:auto; display:block; }
    .tabs { display:flex; gap:8px; margin-top:10px; }
    .tab { border:1px solid var(--line); background:var(--chip); color:var(--text); padding:6px 10px; border-radius:10px; }
    .tab.is-active { outline:2px solid #3d7bfd22; }
    footer { color:var(--muted); font-size:12px; text-align:center; margin-top:28px; }
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div>
        <div class="brand">🌸 桜Index - 公式サイト</div>
        <div class="meta">同期完了：{{ site.time | date: "%Y/%m/%d %H:%M:%S" }} / データ: docs/charts/*</div>
      </div>
      <div class="links">
        <a href="https://twitter.com" rel="noopener">公式X（Twitter）</a>
        <a href="https://note.com" rel="noopener">公式note</a>
      </div>
    </header>

    <main class="grid">
      {%- comment -%}
        各カードを include で描画。intraday が無ければ AM → それも無ければプレースホルダに JS で自動フォールバック。
        騰落率は charts/<ID>/stats.json を JS で読み、"pct_intraday"（または "pct_id" 等）を表示します。
      {%- endcomment -%}

      {%- include components/index-card.html
        id="ASTRA4"
        title="Astra4"
        badge="宇宙ベンチャー"
        description="宇宙関連銘柄の等ウェイト指数。可視化はボラティリティに配慮。"
        json_path="/charts/ASTRA4/stats.json"
        intraday_png="/charts/ASTRA4/intraday.png"
        am_png="/charts/ASTRA4/intraday_am.png"
      -%}

      {%- include components/index-card.html
        id="R-BANK9"
        title="R-BANK9"
        badge="地方銀行"
        description="地方銀行9銘柄の等ウェイト指数。日中は％、長期はレベル推移を表示。"
        json_path="/charts/R-BANK9/stats.json"
        intraday_png="/charts/R-BANK9/intraday.png"
        am_png="/charts/R-BANK9/intraday_am.png"
      -%}

      {%- include components/index-card.html
        id="AIN-10"
        title="AIN-10"
        badge="AI関連10"
        description="米AI関連10銘柄の等ウェイト指数。短期モメンタム観測に便利。"
        json_path="/charts/AIN-10/stats.json"
        intraday_png="/charts/AIN-10/intraday.png"
        am_png="/charts/AIN-10/intraday_am.png"
      -%}

      {%- include components/index-card.html
        id="S-COIN+"
        title="S-COIN+"
        badge="仮想資産関連"
        description="暗号資産関連の等ウェイト指数。日中は騰落率、長期はレベル推移を表示。"
        json_path="/charts/S-COIN+/stats.json"
        intraday_png="/charts/S-COIN+/intraday.png"
        am_png="/charts/S-COIN+/intraday_am.png"
      -%}
    </main>

    <footer>
      データ：各指数は等加重指数（仕様は各リポジトリ参照）／ 画像は各指数リポの自動生成スナップショットと同期しています。<br />
      ※本サイトは投資助言ではありません。投資判断はご自身の責任（自己責任）でお願いいたします。<br />
      © {{ "now" | date: "%Y" }} 桜Index
    </footer>
  </div>

  <script>
    // 画像: intraday → AM → placeholder の順にフォールバック
    (function ensureImages(){
      document.querySelectorAll('.chart-img').forEach(img=>{
        const src = img.dataset.png;
        const am  = img.dataset.am;
        const ph  = img.dataset.placeholder;

        function tryAm(){ if(am){ img.src = am; img.onerror = ()=>{ img.src = ph; }; } else { img.src = ph; } }
        img.onerror = tryAm;
        img.src = src;
      });
    })();

    // 騰落率の描画：stats.json の揺れにロバスト
    (function drawDeltas(){
      const fmtPct = (x)=> (x>=0? '+' : '') + (Math.round(x*10000)/100).toFixed(2) + '%';

      document.querySelectorAll('.delta[data-json]').forEach(async el=>{
        const url = el.dataset.json;
        try{
          const res = await fetch(url, {cache:'no-store'});
          if(!res.ok) throw new Error('HTTP '+res.status);
          const obj = await res.json();

          // 代表値候補（キーの揺れを吸収：pct_intraday / pct_id / pct / change / delta など）
          const pct =
              obj.pct_intraday ?? obj.pct_id ?? obj.pct ?? obj.change ?? obj.delta ?? null;

          // 例外系：AIN-10 旧フォーマット（_key など）
          const alt = (pct==null && typeof obj.delta_level === 'number') ? obj.delta_level : null;

          const val = (pct!=null ? pct : alt);
          if(typeof val === 'number'){
            el.textContent = fmtPct(val);
            el.classList.toggle('pos', val>=0);
            el.classList.toggle('neg', val<0);
          }else{
            el.textContent = 'N/A';
          }
        }catch(e){
          el.textContent = 'N/A';
        }
      });
    })();
  </script>
</body>
</html>
