<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>æ¡œIndex å…¬å¼ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰</title>
  <meta name="description" content="æ¡œIndexå…¬å¼ã€‚ASTRA-4 / S-COIN+ / R-BANK9 / AIN-10 ã®æ—¥ä¸­ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆã¨å±¥æ­´ã€‚">
  <style>
    :root { color-scheme: dark; }
    body { margin:0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Noto Sans JP, sans-serif; background:#0b0b0e; color:#eaeaf0; }
    header { padding:24px 16px; border-bottom:1px solid #1f222a; position:sticky; top:0; background:#0b0b0e; z-index:10; }
    .wrap { max-width:1200px; margin:0 auto; padding: 24px 16px 64px; }
    .grid { display:grid; gap:16px; grid-template-columns: repeat(12, 1fr); }
    .card { grid-column: span 12; background:#12141a; border:1px solid #1f222a; border-radius:16px; overflow:hidden; }
    @media (min-width:900px){ .card { grid-column: span 6; } }
    .card header { display:flex; justify-content:space-between; align-items:center; padding:16px 16px; background:#11131a; border-bottom:1px solid #1f222a; position:static; }
    .title { font-weight:700; letter-spacing:.3px; }
    .meta { opacity:.7; font-size:12px; }
    .body { padding: 0; }
    .imgbox { background:#0b0b0e; display:flex; align-items:center; justify-content:center; min-height:260px; }
    .imgbox img { width:100%; height:auto; display:block; }
    .links { display:flex; gap:12px; padding:12px 16px 16px; flex-wrap:wrap; }
    .btn { padding:8px 12px; border-radius:10px; border:1px solid #2a2f3b; background:#161922; color:#eaeaf0; text-decoration:none; font-size:13px; }
    footer { opacity:.7; font-size:12px; text-align:center; padding:24px; border-top:1px solid #1f222a; }
    .badge { display:inline-flex; align-items:center; gap:6px; font-size:12px; padding:4px 8px; border-radius:999px; border:1px solid #2a2f3b; background:#0f1220; }
  </style>
  <script>
    // ã‚ãªãŸã®GitHubãƒ¦ãƒ¼ã‚¶ãƒ¼å
    const GH_USER = "SakuraIndex";

    // å„æŒ‡æ•°ã®ãƒªãƒåã¨å‡ºåŠ›ãƒ•ã‚¡ã‚¤ãƒ«
    const REPOS = {
      // ASTRA-4ï¼ˆå®‡å®™ï¼‰ => ãƒªãƒå: 3_Sakura_Space
      astra4: { repo: "3_Sakura_Space",
        png: "astra4_intraday.png",
        csv: "astra4_intraday.csv",
        txt: "astra4_post_intraday.txt"
      },
      // S-COIN+ï¼ˆä»®æƒ³é€šè²¨æ ªï¼‰ => ãƒªãƒå: S-COIN-
      scoin: { repo: "S-COIN-",
        png: "scoin_plus_intraday.png",
        csv: "scoin_plus_intraday.csv",
        txt: "scoin_plus_post.txt"
      },
      // R-BANK9ï¼ˆåœ°éŠ€ï¼‰ => ãƒªãƒå: R-BANK9
      rbank9: { repo: "R-BANK9",
        png: "rbank9_intraday.png",
        csv: "rbank9_intraday.csv",
        txt: "rbank9_post_intraday.txt"
      },
      // AIN-10ï¼ˆAIç±³å›½æ ªï¼‰ => ãƒªãƒå: AIN-10
      ain10: { repo: "AIN-10",
        png: "ain10_intraday.png",
        csv: "ain10_intraday.csv",
        txt: "ain10_intraday_post.txt"
      }
    };

    // raw.githubusercontent.com ã‹ã‚‰ç›´æ¥å‚ç…§
    const RAW_BASE = (repo) => `https://raw.githubusercontent.com/${GH_USER}/${repo}/main/docs/outputs`;

    const CARDS = [
      { key:"astra4", name:"ASTRA-4ï¼ˆå®‡å®™ãƒ™ãƒ³ãƒãƒ£ãƒ¼ï¼‰", tags:["JST 15:35 è‡ªå‹•æ›´æ–°","ç­‰ã‚¦ã‚§ã‚¤ãƒˆ"] },
      { key:"scoin",  name:"S-COIN+ï¼ˆä»®æƒ³é€šè²¨æ ªï¼‰",     tags:["JST 15:35 è‡ªå‹•æ›´æ–°","ç­‰ã‚¦ã‚§ã‚¤ãƒˆ"] },
      { key:"rbank9", name:"R-BANK9ï¼ˆåœ°æ–¹éŠ€è¡Œæ ªï¼‰",      tags:["JST 15:35 è‡ªå‹•æ›´æ–°","ç­‰ã‚¦ã‚§ã‚¤ãƒˆ"] },
      { key:"ain10",  name:"AIN-10ï¼ˆAIç±³å›½æ ªï¼‰",        tags:["JST 06:35 è‡ªå‹•æ›´æ–°","ç­‰ã‚¦ã‚§ã‚¤ãƒˆ"] },
    ];

    function cardHTML(k, spec){
      const base = RAW_BASE(spec.repo);
      const img = `${base}/${spec.png}`;
      const csv = `${base}/${spec.csv}`;
      const txt = `${base}/${spec.txt}`;
      const meta = new Date().toLocaleString('ja-JP', { timeZone:'Asia/Tokyo' });
      const tags = CARDS.find(c=>c.key===k)?.tags || [];
      const badges = tags.map(t=>`<span class="badge">ğŸ•’ ${t}</span>`).join(' ');
      return `
      <section class="card">
        <header>
          <div>
            <div class="title">${CARDS.find(c=>c.key===k)?.name || k}</div>
            <div class="meta">æœ€çµ‚æ›´æ–°ï¼ˆè¡¨ç¤ºæ™‚åˆ»ï¼‰ï¼š${meta}</div>
          </div>
          <div>${badges}</div>
        </header>
        <div class="body">
          <div class="imgbox"><img loading="eager" decoding="async" src="${img}?t=${Date.now()}" alt="${k} chart" onerror="this.replaceWith(document.createTextNode('ç”»åƒãŒæœªç”Ÿæˆã§ã™ï¼ˆåˆå›å®Ÿè¡Œå¾…ã¡ï¼‰'))"/></div>
          <div class="links">
            <a class="btn" href="${csv}" target="_blank">ğŸ“„ CSVï¼ˆå±¥æ­´ï¼‰</a>
            <a class="btn" href="${txt}" target="_blank">ğŸ“ æŠ•ç¨¿ãƒ†ã‚­ã‚¹ãƒˆ</a>
            <a class="btn" href="https://github.com/${GH_USER}/${spec.repo}" target="_blank">ğŸ§© ãƒªãƒã‚¸ãƒˆãƒª</a>
          </div>
        </div>
      </section>`;
    }

    document.addEventListener('DOMContentLoaded', ()=>{
      const grid = document.getElementById('grid');
      grid.innerHTML = Object.entries(REPOS).map(([k,v])=>cardHTML(k,v)).join('');
      // 5åˆ†ã”ã¨ã«è‡ªå‹•ãƒªãƒ­ãƒ¼ãƒ‰
      setInterval(()=>location.reload(), 5*60*1000);
    });
  </script>
</head>
<body>
  <header>
    <div class="wrap">
      <h1 style="margin:0; font-size:20px;">ğŸŒ¸ æ¡œIndex å…¬å¼ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰</h1>
      <div style="opacity:.75; margin-top:6px; font-size:13px;">ASTRA-4 / S-COIN+ / R-BANK9 / AIN-10 â€” è‡ªå‹•æ›´æ–°ã®1æ—¥ãƒãƒ£ãƒ¼ãƒˆã¨å±¥æ­´</div>
    </div>
  </header>

  <main class="wrap">
    <div id="grid" class="grid"></div>
  </main>

  <footer>
    Â© Sakura Index â€” Educational purpose only. æŠ•è³‡åˆ¤æ–­ã¯ã”è‡ªèº«ã®è²¬ä»»ã§ãŠé¡˜ã„ã—ã¾ã™ã€‚
  </footer>
</body>
</html>
